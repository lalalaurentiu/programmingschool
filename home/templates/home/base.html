{% load static %}
{% load bootstrap_icons %}
{% load socialaccount %}

<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name='viewport' content='width=device-width,initial-scale=1'>
        {% include 'includes/links.html' %}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
        {% block head %}{% endblock %}

        <title>
            {% block title %}{% endblock %}
        </title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>
        <script src="{% static 'fontawesome_free/js/all.min.js' %}"></script>
    </head>

    <body class="landing-page">
        <nav class="navbar navbar-expand-lg fixed-top navbar-light scrolling-navbar double-nav">
            <div class="container">
                {% block sidebar %}{% endblock %}
                <a class="navbar-brand link-dark" href="{% url 'home:home' %}">
                    <strong>Programming School</strong>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent-7" aria-controls="navbarSupportedContent-7" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent-7">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle waves-effect" href="#" data-toggle="dropdown" aria-expanded="false">
                                IDE
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item" href="{% url 'IDE:python_ide' %}">
                                    <i class="fab fa-python"></i>
                                    Python</a>
                                <a class="dropdown-item" href="{% url 'sql_ide:sql_ide' %}">
                                    <i class="fas fa-database"></i>
                                    Sql BETA</a>
                                <a class="dropdown-item" href="{% url 'HTMLIDE:html_css_js_ide' %}">
                                    <i class="fab fa-html5"></i>
                                    HTML
                                    <i class="fab fa-css3-alt"></i>
                                    CSS
                                    <i class="fab fa-js-square"></i>
                                    JS
                                </a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a aria-expanded="false" data-toggle="dropdown" class="dropdown-toggle nav-link " href="#">Programming language</a>
                            <div class="dropdown-menu">
                                {% for c in categories %}
                                    <a class="dropdown-item" href="{{ c.get_absolute_url }}">{{ c.title }}</a>
                                {% endfor %}
                            </div>
                        </li>
                        {% block exercise %}{% endblock %}
                    </ul>
                    <ul class="navbar-nav text-black">
                        {% if user.is_authenticated %}
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle waves-effect" href="#" id="userDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Welcome
                                    {{ user.username }}
                                </a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <a class="dropdown-item" style="font-size: 18px" href="{% url 'logout' %}">Sign Out</a>
                                    <a class="dropdown-item" style="font-size: 18px" href="{% url 'profile' %}">Your projects</a>
                                </div>
                            </li>
                        {% else %}
                            <li>
                                <a class="btn btn-primary btn-sm mr-2" href="{% url 'register' %}">Sign Up</a>
                                <a class="btn btn-success btn-sm" href="{% url 'login' %}">Login</a>
                            </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>            
            
        {% block content %}{% endblock %}

        {% include 'includes/footer.html' %}
        {% block scripts %}{% include 'includes/scripts.html' %}{% endblock %}
        
        {% if messages %}
            {% for message in messages %}
                <script>
                Swal.fire({
                    position: 'top-end',
                    type: '{{ message.tags }}',
                    text: '{{ message }}',
                    showConfirmButton: true,
                    confirmButtonColor:"#9c27b0"
                })
                </script>
            {% endfor %}
        {% endif %}
    </body>
        
</html>
