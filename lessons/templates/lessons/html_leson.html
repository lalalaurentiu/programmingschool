{% extends 'home/base.html' %}
{% load static%}
{% load bootstrap4 %}

{% block content %}
<style>
        .anchor:link{
        color: black;
        background-color: transparent;
        text-decoration: none;
    }
    .anchor:visited{
        color:rgb(167, 157, 157);
        background-color: transparent;
        text-decoration: none;
    };
</style>
<nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
          <button class="navbar-toggler fixed-bottom" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
            <span><b class="nav-link" >{{ category }}</b></span>
          </button>
          <div class="offcanvas offcanvas-botton" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasNavbarLabel">{{ category }}</h5>
              <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
              <ul class="navbar-nav justify-content-start flex-grow-1 pe-3">
                {% for lesson in lessons %}
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="{{ lesson.get_absolute_url }}">{{ lesson.title }}</a>
                </li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </nav> 

{% for lesson in lessons_content %}
<h1>{{ lesson.title }}</h1>
{% autoescape off %}{{ lesson.content }}{% endautoescape %} 
{% if lesson.code_link %}
<div>
        <button class="btn btn-primary" onclick="show()">Show code</button>
</div>


<script>
        function show(){
                window.open("{% url 'lessons:lessons_code' lesson.code_link %}")
        }
</script>
{% endif %}
{% endfor %}

{% endblock %}
